<template>
  <div class="min-h-screen bg-white p-6 space-y-8">
    <h1 class="text-3xl font-bold text-indigo-600">ğŸ—“ï¸ Lá»‹ch trÃ¬nh chuyáº¿n Ä‘i</h1>

    <!-- Travel Summary -->
    <!-- Travel Summary Improved -->
    <!-- Travel Summary Full -->
    <div class="border rounded-xl p-6 shadow-md bg-gradient-to-br from-indigo-50 to-white space-y-6">
      <!-- Header -->
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-3">
          <div class="bg-indigo-500 text-white rounded-full p-2">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round"
                d="M17 20h5v-2a3 3 0 00-3-3h-4a3 3 0 00-3 3v2h5zM9 20H4v-2a3 3 0 013-3h4a3 3 0 013 3v2H9zM16 3.13a4 4 0 11-8 0 4 4 0 018 0zM20 8v6m0 0a4 4 0 01-4 4H8a4 4 0 01-4-4V8">
              </path>
            </svg>
          </div>
          <div>
            <h2 class="text-lg font-bold text-gray-800">ThÃ´ng tin chuyáº¿n Ä‘i</h2>
            <p class="text-sm text-gray-500">
              Quáº£n lÃ½ bá»Ÿi:
              <span class="font-medium text-indigo-600">Nguyá»…n VÄƒn A</span>
            </p>
          </div>
        </div>
        <button class="px-3 py-1 bg-indigo-500 text-white rounded hover:bg-indigo-600 text-sm">
          Sá»­a
        </button>
      </div>

      <!-- Trip Info -->
      <div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm">
        <div>
          <p class="text-gray-600">ğŸŒ Äiá»ƒm Ä‘áº¿n:</p>
          <p class="font-medium text-gray-800">Cao Báº±ng, Viá»‡t Nam</p>
        </div>
        <div>
          <p class="text-gray-600">ğŸ—“ï¸ Thá»i gian:</p>
          <p class="font-medium text-gray-800">24/03 - 26/03 (3 ngÃ y)</p>
        </div>
        <div>
          <p class="text-gray-600">ğŸ‘¥ Sá»‘ ngÆ°á»i:</p>
          <p class="font-medium text-gray-800">3 thÃ nh viÃªn</p>
        </div>
        <div>
          <p class="text-gray-600">ğŸ’¼ Loáº¡i chuyáº¿n Ä‘i:</p>
          <p class="font-medium text-gray-800">Du lá»‹ch</p>
        </div>
        <div>
          <p class="text-gray-600">ğŸ’° Tá»•ng chi phÃ­ dá»± kiáº¿n:</p>
          <p class="text-emerald-600 font-bold">{{ totalCost }} VNÄ</p>
        </div>
      </div>

      <!-- Member Cost Breakdown -->
      <div class="space-y-2">
        <h3 class="font-semibold text-gray-700 flex items-center gap-2">
          ğŸ‘¤ Chi phÃ­ tá»«ng thÃ nh viÃªn:
        </h3>
        <div class="space-y-1">
          <div v-for="member in members" :key="member.name" class="flex justify-between text-sm">
            <span class="text-gray-700">{{ member.name }}</span>
            <span class="text-indigo-600 font-medium">{{ member.cost.toLocaleString() }} VNÄ</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Grid Layout -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <!-- Add Activity Form -->
      <div class="md:col-span-1 space-y-4 border rounded-lg p-4 shadow-sm bg-gradient-to-b from-indigo-50 to-white">
        <h2 class="font-semibold text-lg text-gray-700 flex items-center gap-2">
          â• ThÃªm hoáº¡t Ä‘á»™ng
        </h2>
        <div class="space-y-3">
          <div>
            <label class="block text-sm font-medium text-gray-600 mb-1">NgÃ y</label>
            <input type="date" class="input" />
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-600 mb-1">TÃªn hoáº¡t Ä‘á»™ng</label>
            <input type="text" placeholder="VÃ­ dá»¥: Tham quan báº£o tÃ ng" class="input" />
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-600 mb-1">Thá»i gian</label>
            <input type="time" class="input" />
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-600 mb-1">Loáº¡i hoáº¡t Ä‘á»™ng</label>
            <select class="input">
              <option value="explore">ğŸ—ºï¸ Tham quan</option>
              <option value="food">ğŸ½ï¸ Ä‚n uá»‘ng</option>
              <option value="rest">ğŸ¨ Nghá»‰ ngÆ¡i</option>
              <option value="move">âœˆï¸ Di chuyá»ƒn</option>
              <option value="shopping">ğŸ›ï¸ Mua sáº¯m</option>
              <option value="relax">ğŸ§˜â€â™‚ï¸ ThÆ° giÃ£n</option>
              <option value="entertainment">ğŸ–ï¸ Giáº£i trÃ­</option>
              <option value="event">ğŸ‰ Sá»± kiá»‡n</option>
              <option value="sport">ğŸƒâ€â™‚ï¸ Thá»ƒ thao</option>
            </select>
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-600 mb-1">Chi phÃ­ (VNÄ)</label>
            <input type="number" placeholder="VÃ­ dá»¥: 300000" class="input" />
          </div>
          <button class="btn-primary w-full">â• ThÃªm vÃ o lá»‹ch</button>
        </div>
      </div>

      <!-- Itinerary -->
      <div class="md:col-span-2 space-y-6">
        <h2 class="font-semibold text-lg text-gray-700 flex items-center gap-2">
          ğŸ“… Lá»‹ch trÃ¬nh Ä‘Ã£ thÃªm
        </h2>

        <div v-for="day in itinerary" :key="day.date" class="space-y-3">
          <div class="flex items-center justify-between">
            <h3 class="text-indigo-600 font-semibold">
              {{ day.date }} - {{ day.day }}
            </h3>
            <span class="text-sm text-gray-600">Tá»•ng chi phÃ­: {{ calculateDayTotal(day.activities) }} VNÄ</span>
          </div>

          <div class="space-y-2">
            <div v-for="activity in day.activities" :key="activity.name" :class="[
              'flex items-center justify-between rounded-lg p-3 shadow-sm',
              activity.bg,
            ]">
              <div class="flex items-center gap-3">
                <span class="text-xl">{{ activity.icon }}</span>
                <div>
                  <div class="font-medium text-gray-700">
                    {{ activity.name }}
                  </div>
                  <div class="text-xs text-gray-600">
                    {{ activity.time }} â€¢ {{ activity.type }} â€¢
                    {{ activity.cost }} VNÄ
                  </div>
                </div>
              </div>
              <div class="flex gap-2">
                <button class="text-sm px-2 py-1 bg-yellow-400 text-white rounded hover:bg-yellow-500">
                  Sá»­a
                </button>
                <button class="text-sm px-2 py-1 bg-rose-500 text-white rounded hover:bg-rose-600">
                  XÃ³a
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Tá»•ng chi phÃ­ toÃ n bá»™ lá»‹ch trÃ¬nh -->
        <div class="text-right text-indigo-700 font-semibold">
          ğŸ§¾ Tá»•ng chi phÃ­ toÃ n bá»™ lá»‹ch trÃ¬nh: {{ totalCost }} VNÄ
        </div>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
const members = [
  { name: "Nguyá»…n VÄƒn A", cost: 2000000 },
  { name: "Tráº§n Thá»‹ B", cost: 2000000 },
  { name: "LÃª VÄƒn C", cost: 2000000 },
];
const itinerary = [
  {
    date: "24/03",
    day: "Thá»© 2",
    activities: [
      {
        name: "Check-in khÃ¡ch sáº¡n",
        time: "14:00",
        type: "Nghá»‰ ngÆ¡i",
        cost: 0,
        icon: "ğŸ¨",
        bg: "bg-blue-50",
      },
      {
        name: "Äi dáº¡o bÃ£i biá»ƒn",
        time: "16:00",
        type: "Giáº£i trÃ­",
        cost: 0,
        icon: "ğŸ–ï¸",
        bg: "bg-teal-50",
      },
      {
        name: "Ä‚n tá»‘i táº¡i nhÃ  hÃ ng",
        time: "19:00",
        type: "Ä‚n uá»‘ng",
        cost: 350000,
        icon: "ğŸ½ï¸",
        bg: "bg-yellow-50",
      },
    ],
  },
  {
    date: "25/03",
    day: "Thá»© 3",
    activities: [
      {
        name: "Workshop pha cÃ  phÃª",
        time: "10:00",
        type: "Sá»± kiá»‡n",
        cost: 200000,
        icon: "ğŸ‰",
        bg: "bg-purple-50",
      },
      {
        name: "Mua sáº¯m táº¡i TTTM",
        time: "14:00",
        type: "Mua sáº¯m",
        cost: 1000000,
        icon: "ğŸ›ï¸",
        bg: "bg-pink-50",
      },
      {
        name: "Yoga thÆ° giÃ£n",
        time: "17:00",
        type: "ThÆ° giÃ£n",
        cost: 100000,
        icon: "ğŸ§˜â€â™‚ï¸",
        bg: "bg-green-50",
      },
    ],
  },
];

const calculateDayTotal = (activities: any[]) => {
  return activities.reduce((sum, act) => sum + act.cost, 0);
};

const totalCost = itinerary.reduce(
  (sum, day) => sum + calculateDayTotal(day.activities),
  0
);

definePageMeta({
  middleware: 'auth',
});

</script>

<style scoped>
.input {
  @apply w-full px-3 py-2 rounded border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-400;
}

.btn-primary {
  @apply py-2 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 transition block text-center;
}
</style>
